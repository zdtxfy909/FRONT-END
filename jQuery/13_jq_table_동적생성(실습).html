<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>table 동적 생성(실습)</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    /* 행과 열을 입력 받아 테이블 생성하기
    val() 메소드 : value 값 읽기, 설정
    1. <테이블생성> 버튼에 이벤트 연결
    2. input 태그 값을 읽어오기(행, 열)
    3. 행, 열 값에 맞추어 table 태그 작성
    4. 원하는 위치(#myDiv)에 table 태그 추가(html() 사용)
    ****************/
    $(document).ready(function(){
        
        let rowValue = $("#row").val();
        let colValue = $("#col").val();
        let createTable = "";
        let html = "";
        
        //1. <테이블생성> 버튼에 이벤트 연결
        $("#btn").click(function(){
            
            //2. input 태그 값을 읽어오기(행, 열)
            rowValue = $("#row").val();
            console.log("rowValue : " + rowValue);
            colValue = $("#col").val();
            console.log("colValue : " + colValue);
            
            //3. 행, 열 값에 맞추어 table 태그 작성
            createTable += "<table>";
            
            html = createthead(colValue);
            createTable += html;
            
            html = createtbody(rowValue, colValue);
            createTable += html;
            
            createTable += "</table>";

            console.log("createTable : " + createTable);
            
            $("#myDiv").html(createTable);
        });
        
        function createthead(colValue){
            console.log("createthead() 실행~~~");
            console.log("colValue : " + colValue)
            createTable += "<thead><tr>";
                for (let th = 1; th <= colValue; th++) {
                    createTable += "<th>항목" + th +"</th>";
                }
            createTable += "</tr></thead>";
        }
        
        function createtbody(rowValue, colValue){
            console.log("createtbody() 함수실행~~");
            createTable += "<tbody>";
            for (let row = 1; row <= rowValue; row++) {
                createTable += "<tr>";
                //console.log(row);
                for (let col = 1; col <= colValue; col++) {
                    createTable += "<td>데이터 " + row + ", " + col + "</td>";
                    //console.log(col);
                }
                createTable += "</tr>";
            }
            createTable += "</tbody>";
        };
        
        
    });
    
</script>
<style>
    table, th, td { border: 1px solid black; }
    #myDiv { background-color: yellow; }
</style>    
</head>
<body>
    <h2>테이블 동적 생성</h2>
    <input type="text" id="row" value="2">행 &nbsp;
    <input type="text" id="col" value="3">열 &nbsp;
    <button id="btn">테이블 생성</button>
    
    <hr>
    <div id="myDiv">
        동적으로 테이블 생성할 영역
    </div>
    <hr><hr>
    
    <table>
        <thead>
            <tr>
                <th>항목1</th>
                <th>항목2</th>
                <th>항목3</th>
            </tr>    
        </thead>
        <tbody>
            <tr>
                <td>데이터 1, 1</td>
                <td>데이터 1, 2</td>
                <td>데이터 1, 3</td>
            </tr>
            <tr>
                <td>데이터 2, 1</td>
                <td>데이터 2, 2</td>
                <td>데이터 2, 3</td>
            </tr>
        </tbody>
    </table>
    
    
</body>
</html>